<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nervsystemreglering - Kortlek</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Nervsystemreglering</h1>
    <p class="subtitle">Dra ett kort for vägledning och lugn</p>

    <div class="collection-selector" id="collection-selector">
        <!-- Populated by JavaScript -->
    </div>

    <div class="card-area">
        <div id="card-display">
            <div class="placeholder">Tryck för att dra ett kort</div>
        </div>

        <p class="cards-remaining" id="remaining"></p>

        <div class="deck">
            <div class="deck-buttons">
                <button class="deck-mode-btn" onclick="drawRandomCard()" title="Dra slumpat kort" id="btn-draw-random"></button>
                <button class="deck-mode-btn" onclick="drawNextCard()" title="Dra nästa kort" id="btn-draw-next"></button>
            </div>
            <div class="deck-card" onclick="drawCard()"></div>
            <div class="deck-card" onclick="drawCard()"></div>
            <div class="deck-card" onclick="drawCard()">
                <span class="deck-icon" id="deck-icon"></span>
            </div>
        </div>

        <button class="shuffle-btn" onclick="shuffleDeck()" id="btn-reset"></button>
    </div>

    <!-- Modal for creating/editing collections -->
    <div class="modal-overlay" id="create-modal">
        <div class="modal">
            <h3 id="modal-title">Ny samling</h3>
            <input type="text" id="collection-name-input" placeholder="Namn på samlingen">
            <div class="modal-buttons">
                <button class="modal-btn secondary" onclick="closeModal()">Avbryt</button>
                <button class="modal-btn primary" onclick="saveCollection()">Spara</button>
            </div>
        </div>
    </div>

    <!-- Modal for confirming deletion -->
    <div class="modal-overlay" id="delete-modal">
        <div class="modal">
            <h3>Ta bort samling</h3>
            <p style="color: #666; margin-bottom: 15px;">Är du säker på att du vill ta bort "<span id="delete-collection-name"></span>"?</p>
            <div class="modal-buttons">
                <button class="modal-btn secondary" onclick="closeDeleteModal()">Avbryt</button>
                <button class="modal-btn danger" onclick="confirmDeleteCollection()">Ta bort</button>
            </div>
        </div>
    </div>

    <!-- Modal for managing a collection -->
    <div class="modal-overlay" id="manage-modal">
        <div class="modal">
            <h3 id="manage-modal-title">Hantera samling</h3>
            <div class="modal-buttons" style="flex-direction: column; align-items: stretch;">
                <button class="modal-btn secondary" onclick="editCollectionName()" style="text-align: left;">Byt namn</button>
                <button class="modal-btn danger" onclick="showDeleteModal()" style="text-align: left;">Ta bort samling</button>
            </div>
            <div class="collection-actions">
                <button class="modal-btn secondary" onclick="closeManageModal()" style="width: 100%;">Stäng</button>
            </div>
        </div>
    </div>

    <script src="cards.js"></script>
    <script src="icons.js"></script>
    <script src="app.js"></script>
</body>
</html>
